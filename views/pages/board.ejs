<!DOCTYPE html>
<html lang="en">
<head>
  <% include ../partials/headers %>
  <script type="text/javascript" src=""></script>
</head>
<body>
  <% include ../partials/header %>

  <div ng-app="myApp" class="container-fluid">
    <div ng-controller="BoardController">
      <div class="row">
        <ul id="bulletins">
          <li ng-repeat="post in posts">
            <div>
              <div class="content">
                {{post.htmlBody}}
              </div>
              <div class="info">
                <span class="username">{{post.username}}</span>
                <span class="ip">{{post.ip}}</span>
                <span class="time">{{post.createdTime}}</span>
              </div>
            </div>
          </li>
        </ul>
      </div>

      <div class="row">
        <div class="col-xs-offset-1 col-xs-8">
          <form class="form-horizontal" role="form" novalidate name="postForm">
            <div class="form-group">
              <label for="body" class="col-sm-2 control-label">内容</label>
              <div class="col-sm-10">
                <textarea class="form-control" id="body" ng-model="post.htmlBody" rows="3" required></textarea>
              </div>
            </div>

            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-2">
                <input type="text" class="form-control" id="username" ng-model="post.username" placeholder="Username" required>
              </div>
              <div class="col-sm-5">
                <button class="btn btn-default" ng-disabled="postForm.$invalid || is_unchanged()" ng-click="submit()">发布消息</button>
              </div>
            </div>
          </form>
          <div>
            post: {{post | json}}<br/>
            form.status: {{postForm.$invalid}}<br/>
            change status: {{is_unchanged()}}
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <% include ../partials/footer %>
</body>
</html>